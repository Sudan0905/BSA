void bsa_foreach(void (*func)(int* p, int* n), bsa* b, int* acc){
    if (func == NULL || b == NULL || acc == NULL) {
        return; // 检查参数是否有效
    }

    for (int indx = 0; indx <= b->max_index; ++indx) {
        if (b->is_set[indx]) {
            int row = get_row_from_index(indx);
            int position = indx;
            for (int i = 0; i < row; ++i) {
                position -= (1 << i);
            }
            func(&(b->rows[row][position]), acc);
        }
    }

}
